<div class="page-wrapper">
    <div class="content container-fluid">

        <div class="page-header">
            <div class="row align-items-center">
                <div class="col-sm-12">
                    <div class="page-sub-header">
                        <h3 class="page-title">Edit Students</h3>
                        <ul class="breadcrumb">
                            <li class="breadcrumb-item"><a href="students.html">Student</a></li>
                            <li class="breadcrumb-item active">Edit Students</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-12">
                <div class="card comman-shadow">
                    <div class="card-body">
                      <form #studentForm="ngForm" (ngSubmit)="onSubmit(studentForm)">
                        <div class="row">
                          <div class="col-12">
                            <h5 class="form-title student-info">
                              Student Information
                              <span><a href="javascript:;"><i class="feather-more-vertical"></i></a></span>
                            </h5>
                          </div>
                      
                          
                          <!-- Full Name -->
                          <div class="col-12 col-sm-4">
                            <div class="form-group local-forms">
                              <label>Full Name <span class="login-danger">*</span></label>
                              <input
                                class="form-control"
                                type="text"
                                [(ngModel)]="student.full_name"
                                name="full_name"
                                required
                                #fullName="ngModel"
                              >
                              <div *ngIf="fullName.touched && fullName.errors?.['required']" class="text-danger">
                                Full Name is required
                              </div>
                            </div>
                          </div>
                      
                          <!-- Gender -->
                          <div class="col-12 col-sm-4">
                            <div class="form-group local-forms">
                              <label>Gender <span class="login-danger">*</span></label>
                              <select class="form-control" [(ngModel)]="student.gender" name="gender" required>
                                <option value="">Select Gender</option>
                                <option value="male">Male</option>
                                <option value="female">Female</option>
                              </select>
                            </div>
                          </div>
                      
                          <!-- Date of Birth -->
                          <div class="col-12 col-sm-4">
                            <div class="form-group local-forms">
                              <label>Date Of Birth <span class="login-danger">*</span></label>
                              <input
                                class="form-control"
                                type="date"
                                [(ngModel)]="student.date_of_birth"
                                name="date_of_birth"
                                required
                                #dateOfBirth="ngModel"
                              >
                              <div *ngIf="dateOfBirth.touched && dateOfBirth.errors?.['required']" class="text-danger">
                                Date of Birth is required
                              </div>
                            </div>
                          </div>
                      
                          <!-- Class ID -->
                          <div class="col-12 col-sm-4">
                            <div class="form-group local-forms">
                              <label>Class <span class="login-danger">*</span></label>
                              <select
                                class="form-control"
                                [(ngModel)]="student.class_id"
                                name="class_id"
                                required
                                #classId="ngModel"
                              >
                                <option value="">Select Class</option>
                                <option *ngFor="let classItem of classes" [value]="classItem.id">
                                  {{ classItem.name }}
                                </option>
                              </select>
                              <div *ngIf="classId.touched && classId.errors?.['required']" class="text-danger">
                                Class is required
                              </div>
                            </div>
                          </div>
                      
                          <!-- Parent ID -->
                          <div class="col-12 col-sm-4">
                            <div class="form-group local-forms">
                              <label>Parent <span class="login-danger">*</span></label>
                              <select
                                class="form-control"
                                [(ngModel)]="student.parent_id"
                                name="parent_id"
                                required
                                #parentId="ngModel"
                              >
                                <option value="">Select Parent</option>
                                <option *ngFor="let parent of parents" [value]="parent.id">
                                  {{ parent.full_name }}
                                </option>
                              </select>
                              <div *ngIf="parentId.touched && parentId.errors?.['required']" class="text-danger">
                                Parent is required
                              </div>
                            </div>
                          </div>
                      
                          <!-- Upload Image -->
                          <div class="col-12 col-sm-4">
                            <div *ngIf="currentImage">
                              <img [src]="'http://localhost:3105' + currentImage" alt="Current Image" style="width: 150px; height: 150px;">
                            </div>
                            <div class="form-group local-forms">
                              <label>Upload Student Photo (150px X 150px)</label>
                              <div class="uplod">
                                <label class="file-upload image-upbtn mb-0">
                                  Choose File <input type="file" (change)="onFileSelected($event)">
                                </label>
                              </div>
                            
                            </div>
                          </div>
                      
                          <!-- Submit Button -->
                          <div class="col-12">
                            <div class="student-submit">
                              <button
                                type="submit"
                                class="btn btn-primary"
                                [disabled]="studentForm.invalid"
                              >
                                Update Student
                              </button>
                            </div>
                          </div>
                        </div>
                      </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>